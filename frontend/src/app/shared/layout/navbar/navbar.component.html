<nav class="navbar">
  <div class="container">
    <div class="navbar-wrapper">
      <div class="navbar-left">
        <a routerLink="/" class="navbar-brand">üé´ –°–æ–±—ã—Ç–∏—è</a>
        <ul class="navbar-nav navbar-nav-left desktop-nav">
          <li>
            <a routerLink="/events" routerLinkActive="active" class="nav-link"
              >–í—Å–µ —Å–æ–±—ã—Ç–∏—è</a
            >
          </li>
          <li *ngIf="authService.isAdmin()">
            <a
              routerLink="/admin/dashboard"
              routerLinkActive="active"
              class="nav-link"
              >–ü–∞–Ω–µ–ª—å</a
            >
          </li>
          <li *ngIf="authService.isAdmin()">
            <a
              routerLink="/admin/registrations"
              routerLinkActive="active"
              class="nav-link"
              >–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</a
            >
          </li>
        </ul>
      </div>
      <div class="navbar-right">
        <ul class="navbar-nav navbar-nav-right desktop-nav">
          <li *ngIf="!authService.isAuthenticated()">
            <a routerLink="/login" routerLinkActive="active" class="nav-link"
              >–í—Ö–æ–¥</a
            >
          </li>
          <li *ngIf="authService.isAuthenticated()">
            <a routerLink="/profile" routerLinkActive="active" class="nav-link">
              üë§ {{ (authService.currentUser$ | async)?.username || "–ü—Ä–æ—Ñ–∏–ª—å" }}
            </a>
          </li>
          <li *ngIf="authService.isAuthenticated()">
            <a (click)="logout()" class="nav-link logout-link">–í—ã—Ö–æ–¥</a>
          </li>
        </ul>

        <button
          class="burger-menu"
          (click)="toggleMobileMenu()"
          [class.open]="isMobileMenuOpen"
        >
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
    </div>
  </div>
</nav>

<div
  class="mobile-menu-overlay"
  [class.open]="isMobileMenuOpen"
  (click)="closeMobileMenu()"
></div>
<div class="mobile-menu" [class.open]="isMobileMenuOpen">
  <div class="mobile-menu-header">
    <span class="mobile-menu-title">–ú–µ–Ω—é</span>
    <button class="mobile-menu-close" (click)="closeMobileMenu()">‚úï</button>
  </div>

  <div class="mobile-menu-content">
    <a
      routerLink="/events"
      routerLinkActive="active"
      class="mobile-nav-link"
      (click)="closeMobileMenu()"
    >
      –í—Å–µ —Å–æ–±—ã—Ç–∏—è
    </a>

    <ng-container *ngIf="authService.isAdmin()">
      <a
        routerLink="/admin/dashboard"
        routerLinkActive="active"
        class="mobile-nav-link"
        (click)="closeMobileMenu()"
      >
        –ü–∞–Ω–µ–ª—å
      </a>
      <a
        routerLink="/admin/registrations"
        routerLinkActive="active"
        class="mobile-nav-link"
        (click)="closeMobileMenu()"
      >
        –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
      </a>
    </ng-container>

    <div class="mobile-menu-divider"></div>

    <ng-container *ngIf="!authService.isAuthenticated()">
      <a
        routerLink="/login"
        routerLinkActive="active"
        class="mobile-nav-link"
        (click)="closeMobileMenu()"
      >
        –í—Ö–æ–¥
      </a>
    </ng-container>

    <ng-container *ngIf="authService.isAuthenticated()">
      <a
        routerLink="/profile"
        routerLinkActive="active"
        class="mobile-nav-link"
        (click)="closeMobileMenu()"
      >
        üë§ {{ (authService.currentUser$ | async)?.username || "–ü—Ä–æ—Ñ–∏–ª—å" }}
      </a>
      <button (click)="logout(); closeMobileMenu()" class="mobile-btn-logout">
        –í—ã—Ö–æ–¥
      </button>
    </ng-container>
  </div>
</div>
